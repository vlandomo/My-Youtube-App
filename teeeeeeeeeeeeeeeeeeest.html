<!DOCTYPE html>
<html lang="ar">

<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>تحميل فيديو جديد</title>
 <link rel="stylesheet" href="styles.css">
</head>

<body>
 <div class="uvc">
  <h1>تحميل فيديو جديد</h1>

  <!-- نموذج تحميل الملفات -->
  <div class="upload-section">
   <label for="video-upload">upload video</label>
   <input type="file" id="video-upload" accept="video/*">
   <video id="video-preview" controls ></video>
   </div>
   <div class="upload-section">
   <label for="thumbnail-upload">thumbnail img</label>
   <input type="file" id="thumbnail-upload" accept="image/*">
   <img id="thumbnail-preview" alt="صورة مصغرة" style="display:none;">
  </div>

  <!-- نموذج إدخال العناوين -->
  <div class="info-section">
   <label for="title">عنوان الفيديو:</label>
   <input type="text" id="uvtitle" placeholder="أدخل عنوان الفيديو هنا">

   <label for="description">وصف الفيديو:</label>
   <textarea id="description" placeholder="أدخل وصف الفيديو هنا"></textarea>

   <label for="tags">علامات (Tags):</label>
   <input type="text" id="tags" placeholder="أدخل علامات الفيديو مفصولة بفواصل">
  </div>

  <!-- زر حفظ -->
  <button id="uvsave-button" class="uvsave-Button">save</button>

  <!-- عرض المحتوى المحمل -->
  <div>
   <video id="video-preview" controls style="display:none;"></video>
 </div>

 <script>
  // script.js

  document.addEventListener('DOMContentLoaded', () => {
   // عناصر رفع الملفات
   const videoInput = document.getElementById('video-upload');
   const thumbnailInput = document.getElementById('thumbnail-upload');

   // عناصر المعاينة
   const videoPreview = document.getElementById('video-preview');
   const thumbnailPreview = document.getElementById('thumbnail-preview');

   // عناصر العناوين
   const titleInput = document.getElementById('uvtitle');
   const descriptionInput = document.getElementById('description');
   const tagsInput = document.getElementById('tags');

   // عناصر المعلومات
   const videoTitle = document.getElementById('video-title');
   const videoDescription = document.getElementById('video-description');
   const videoTags = document.getElementById('video-tags');

   // زر الحفظ
   const saveButton = document.getElementById('save-button');

   // تحميل الفيديو ومعاينته
   videoInput.addEventListener('change', (event) => {
    const file = event.target.files[0];
    if (file) {
     const videoUrl = URL.createObjectURL(file);
     videoPreview.src = videoUrl;
     videoPreview.style.display = 'block';
      // عرض المعاينة
    }
   });

   // تحميل الصورة المصغرة ومعاينتها
   thumbnailInput.addEventListener('change', (event) => {
    const file = event.target.files[0];
    if (file && file.type.startsWith('image/')) {
     const reader = new FileReader();
     reader.onload = function(e) {
      thumbnailPreview.src = e.target.result;
      thumbnailPreview.style.display = 'block';
     };
     reader.readAsDataURL(file);
    }
   });

   // حفظ البيانات عند الضغط على زر الحفظ
   saveButton.addEventListener('click', () => {
    // جلب العناوين من المدخلات
    const title = titleInput.value.trim();
    const description = descriptionInput.value.trim();
    const tags = tagsInput.value.trim();

    if (title === '' || description === '' || tags === '') {
     alert('يرجى ملء جميع الحقول!');
     return;
    }

    // عرض العناوين في المعاينة
    videoTitle.textContent = title;
    videoDescription.textContent = description;
    videoTags.textContent = `العلامات: ${tags}`;
    videoTitle.style.display = 'block';
    videoDescription.style.display = 'block';
    videoTags.style.display = 'block';

    // حفظ البيانات في Local Storage
    const videoData = {
     title,
     description,
     tags,
     videoUrl: videoPreview.src,
     thumbnailUrl: thumbnailPreview.src,
    };

    localStorage.setItem('videoData', JSON.stringify(videoData));

    alert('تم حفظ الفيديو بنجاح!');
   });

   // استرجاع البيانات من Local Storage عند تحميل الصفحة
   const storedVideoData = localStorage.getItem('videoData');
   if (storedVideoData) {
    const { title, description, tags, videoUrl, thumbnailUrl } = JSON.parse(storedVideoData);

    // عرض البيانات المحفوظة
    videoTitle.textContent = title;
    videoDescription.textContent = description;
    videoTags.textContent = `العلامات: ${tags}`;

    videoPreview.src = videoUrl;
    videoPreview.style.display = 'block';

    thumbnailPreview.src = thumbnailUrl;
    thumbnailPreview.style.display = 'block';

     // عرض المعاينة
   }
  });
 </script>
</body>

</html>